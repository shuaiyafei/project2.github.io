import{e,o as t,f as n,g as o,j as i,k as a,l as r,m as s,q as l,F as d,t as c,v as h}from"./vue-b065e30f.js";import{c as m,a as u}from"./vue-router-7a1c4c9d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const p=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},g={class:"nav-container"},v={class:"logo"},f=["src"];const _=p({name:"Navigation",data:()=>({isScrolled:!1,menuOpen:!1}),computed:{aboutIconSrc:()=>"/home/logo.webp"},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.isScrolled=window.scrollY>50},toggleMenu(){this.menuOpen=!this.menuOpen},closeMenu(){this.menuOpen=!1}}},[["render",function(l,d,c,h,m,u){const p=e("router-link");return t(),n("nav",{class:r(["navigation",{scrolled:m.isScrolled}])},[o("div",g,[o("div",v,[i(p,{to:"/"},{default:a(()=>[o("img",{loading:"lazy",src:u.aboutIconSrc,alt:"Gavin"},null,8,f)]),_:1})]),o("ul",{class:r(["nav-menu",{active:m.menuOpen}])},[o("li",null,[i(p,{to:"/health",onClick:u.closeMenu},{default:a(()=>[...d[1]||(d[1]=[s("My Health Story",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/virus",onClick:u.closeMenu},{default:a(()=>[...d[2]||(d[2]=[s("Exploring Virus Research",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/gene",onClick:u.closeMenu},{default:a(()=>[...d[3]||(d[3]=[s("Learning Gene Editing",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/chromosome",onClick:u.closeMenu},{default:a(()=>[...d[4]||(d[4]=[s("Chromosome Research",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/smile",onClick:u.closeMenu},{default:a(()=>[...d[5]||(d[5]=[s("Operation Smile",-1)])]),_:1},8,["onClick"])])],2),o("div",{class:r(["hamburger",{active:m.menuOpen}]),onClick:d[0]||(d[0]=(...e)=>u.toggleMenu&&u.toggleMenu(...e))},[...d[6]||(d[6]=[o("span",null,null,-1),o("span",null,null,-1),o("span",null,null,-1)])],2)])],2)}],["__scopeId","data-v-11126232"]]),y={class:"footer"};const w=p({name:"Footer"},[["render",function(e,o,i,a,r,s){return t(),n("footer",y,[...o[0]||(o[0]=[l('<div class="footer-container" data-v-b1dce762><div class="footer-icon" data-v-b1dce762><img loading="lazy" src="/home/logo.webp" alt="Gavin" data-v-b1dce762></div><div class="footer-line" data-v-b1dce762></div><img style="width:142px;" src="/home/icons.webp" alt="icon" data-v-b1dce762><p class="copyright" data-v-b1dce762>Copyright @Gavin</p></div>',1)])])}],["__scopeId","data-v-b1dce762"]]),I=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"}));const E=new class{constructor(){this.loadedImages=new Set,this.loadingImages=new Set,this.priorityQueue=[],this.lazyQueue=[],this.isLoading=!1}preloadImage(e,t=5){return this.loadedImages.has(e)||this.loadingImages.has(e)?Promise.resolve():new Promise((t,n)=>{const o=new Image;o.onload=()=>{this.loadedImages.add(e),this.loadingImages.delete(e),t()},o.onerror=()=>{this.loadingImages.delete(e),n(new Error(`Failed to load image: ${e}`))},this.loadingImages.add(e),o.src=e})}async preloadImages(e){const t=e.sort((e,t)=>(t.priority||5)-(e.priority||5)),n=t.filter(e=>(e.priority||5)>=7),o=t.filter(e=>(e.priority||5)>=4&&(e.priority||5)<7),i=t.filter(e=>(e.priority||5)<4);await Promise.all(n.map(e=>this.preloadImage(e.src,e.priority))),await Promise.all(o.map(e=>this.preloadImage(e.src,e.priority))),i.forEach(e=>{this.preloadImage(e.src,e.priority).catch(()=>{})})}getLoadingStatus(){return{loaded:this.loadedImages.size,loading:this.loadingImages.size,total:this.loadedImages.size+this.loadingImages.size}}clear(){this.loadedImages.clear(),this.loadingImages.clear()}},b={class:"main-content"};const S=p({name:"App",components:{Navigation:_,Footer:w}},[["render",function(a,r,s,l,c,h){const m=e("Navigation"),u=e("router-view"),p=e("Footer");return t(),n(d,null,[i(m),o("div",b,[i(u)]),i(p)],64)}]]),L={},O=function(e,t,n){if(!t||0===t.length)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in L)return;L[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(!!n)for(let n=o.length-1;n>=0;n--){const i=o[n];if(i.href===e&&(!t||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${e}"]${i}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};const z=[{path:"/",name:"Home",component:p({name:"Home",components:{AboutSection:c(()=>O(()=>import("./AboutSection-4d974c86.js"),["js/AboutSection-4d974c86.js","js/vue-b065e30f.js","js/vue-router-7a1c4c9d.js","css/AboutSection-785aeea1.css"])),BottomSection:c(()=>O(()=>import("./BottomSection-e0ef50b8.js"),["js/BottomSection-e0ef50b8.js","js/vue-b065e30f.js","js/vue-router-7a1c4c9d.js","css/BottomSection-0303b388.css"]))},mounted(){this.preloadHomeImages()},methods:{preloadHomeImages(){E.preloadImages([]).then(()=>{this.preloadOtherPagesImages()})},preloadOtherPagesImages(){E.preloadImages([]).catch(()=>{})}}},[["render",function(o,a,r,s,l,d){const c=e("AboutSection"),h=e("BottomSection");return t(),n("div",null,[i(c),i(h)])}]])},{path:"/health",name:"Health",component:()=>O(()=>import("./index-074aa777.js"),["js/index-074aa777.js","js/vue-b065e30f.js","js/vue-router-7a1c4c9d.js","css/index-ef720c74.css"])},{path:"/virus",name:"Virus",component:()=>O(()=>import("./index-d2bc03e3.js"),["js/index-d2bc03e3.js","js/vue-b065e30f.js","js/vue-router-7a1c4c9d.js","css/index-fd407d37.css"])},{path:"/gene",name:"Gene",component:()=>O(()=>import("./index-2ef33887.js"),["js/index-2ef33887.js","js/vue-b065e30f.js","js/vue-router-7a1c4c9d.js","css/index-1055e38b.css"])},{path:"/chromosome",name:"Chromosome",component:()=>O(()=>import("./index-f8fef7d8.js"),["js/index-f8fef7d8.js","js/vue-b065e30f.js","js/vue-router-7a1c4c9d.js","css/index-39b5fc2f.css"])},{path:"/smile",name:"Smile",component:()=>O(()=>import("./index-04e19214.js"),["js/index-04e19214.js","js/vue-b065e30f.js","js/VideoPlayer-96d666de.js","css/VideoPlayer-8c79ff15.css","js/vue-router-7a1c4c9d.js","css/index-5199d026.css"])},{path:"/art",name:"Art",component:()=>O(()=>import("./index-111c65cc.js"),["js/index-111c65cc.js","js/VideoPlayer-96d666de.js","js/vue-b065e30f.js","css/VideoPlayer-8c79ff15.css","js/vue-router-7a1c4c9d.js","css/index-208d1339.css"])},{path:"/:pathMatch(.*)*",redirect:"/"}],P=m({history:u(),routes:z,scrollBehavior:(e,t,n)=>n||{top:0,behavior:"smooth"}}),W={mounted(e,t){const n=t.value;if(!n)return;const o=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;"IMG"===t.tagName?(t.src=n,t.classList.add("lazy-loaded")):(t.style.backgroundImage=`url(${n})`,t.classList.add("lazy-loaded")),o.unobserve(t)}})},{rootMargin:"50px"});o.observe(e),e._lazyLoadObserver=o},unmounted(e){e._lazyLoadObserver&&(e._lazyLoadObserver.unobserve(e),e._lazyLoadObserver.disconnect(),delete e._lazyLoadObserver)}};const k=new class{constructor(e={}){this.designWidth=e.designWidth||1920,this.minWidth=e.minWidth||320,this.maxWidth=e.maxWidth||2560,this.currentWidth=window.innerWidth,this.currentScale=this.calculateScale(this.currentWidth),this.handleResize=this.handleResize.bind(this),this.init()}init(){this.updateScale(),window.addEventListener("resize",this.handleResize),window.addEventListener("orientationchange",this.handleResize)}calculateScale(e){return Math.max(this.minWidth,Math.min(e,this.maxWidth))/this.designWidth}updateScale(){const e=this.calculateScale(this.currentWidth);document.documentElement.style.zoom=e,document.documentElement.style.setProperty("--scale",e),this.currentScale=e}handleResize(){const e=window.innerWidth;Math.abs(e-this.currentWidth)>1&&(this.currentWidth=e,this.updateScale(),this.dispatchEvent("scalechange",{width:e,scale:this.currentScale}))}dispatchEvent(e,t){const n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}getScale(){return this.currentScale}getWidth(){return this.currentWidth}destroy(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("orientationchange",this.handleResize)}}({designWidth:1920,minWidth:320,maxWidth:2560}),M=h(S);M.directive("lazy-load",W),M.config.globalProperties.$dynamicUnit=k,M.use(P),M.mount("#app");export{I as F,p as _,O as a};
